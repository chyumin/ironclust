# Ironclust Docker

This folder contains files to build a Docker Image that runs matlab implemented ironclust sorter

## Pre steps
No action is required in this section, the only purpose is to show how the irc2 file (used by Dockerfile) was generated.

### Matlab Requirements
- MATLAB Compiler
- Statistics and Machine Learning Toolbox
- Signal Processing Toolbox
- Image Processing Toolbox

### Steps to generate the irc2 compiled file
- Open Matlab 
- Set Matlab's workspace folder to be in the following folder: `ironclust/matlab`
- Open Matlab's `Application Compiler`
- Click `Open Project`
- Select `irc2\_compiler.prj` file
- Click on `Package` button
- The full path for compiled ironclust file is: `ironclust/matlab/irc2\_compiler/for\_redistribution\_files\_only/irc2`


## Files

- `irc2` is a compiled file from `irc2.m` via Matlab Compiler to run ironclust sorter, some files (probe, configs etc) are also embeded in compilation

- `Dockerfile` is a customized version of Dockerfile generated by the following matlab compiler command: `compiler.package.docker('irc2', 'requiredMCRProducts.txt')`

## Building the image

To build the image simply run:

```
docker build -t spikeinterface/ironclust .
```

